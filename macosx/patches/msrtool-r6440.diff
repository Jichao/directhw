Update port of msrtool to Mac OS X using DirectHW:
http://www.coreboot.org/DirectHW

Signed-off-by: Stefan Reinauer <stefan.reinauer@coreboot.org>

Index: msrtool-r6440/msrtool.c
===================================================================
--- msrtool-r6440/msrtool.c
+++ msrtool-r6440/msrtool.c
@@ -49,7 +49,7 @@
 
 static struct sysdef allsystems[] = {
 	{ "linux", "Linux with /dev/cpu/*/msr", linux_probe, linux_open, linux_close, linux_rdmsr },
-	{ "darwin", "OS X with DirectIO", darwin_probe, darwin_open, darwin_close, darwin_rdmsr },
+	{ "darwin", "Mac OS X with DirectHW", darwin_probe, darwin_open, darwin_close, darwin_rdmsr },
 	{ "freebsd", "FreeBSD with /dev/cpuctl*", freebsd_probe, freebsd_open, freebsd_close, freebsd_rdmsr },
 	{ SYSTEM_EOT }
 };
Index: msrtool-r6440/configure
===================================================================
--- msrtool-r6440/configure
+++ msrtool-r6440/configure
@@ -155,7 +155,7 @@
 	rm -f .config.c
 	exit 1
 }
-LDFLAGS=`trylink "libpci (from pciutils)" "${pc_LDFLAGS}" "-lpci -lz" "-L/usr/local/lib -lpci -lz" "-framework DirectIO -lpci -lz"` || {
+LDFLAGS=`trylink "libpci (from pciutils)" "${pc_LDFLAGS}" "-lpci -lz" "-L/usr/local/lib -lpci -lz" "-framework DirectHW -lpci -lz"` || {
 	rm -f .config.c .config.o
 	exit 1
 }
Index: msrtool-r6440/msrtool.h
===================================================================
--- msrtool-r6440/msrtool.h
+++ msrtool-r6440/msrtool.h
@@ -24,9 +24,9 @@
 #include <stdio.h>
 #include <stdint.h>
 #if (defined(__MACH__) && defined(__APPLE__))
-/* DirectIO is available here: http://www.coresystems.de/en/directio */
+/* DirectHW is available here: http://www.coreboot.org/DirectHW */
 #define __DARWIN__
-#include <DirectIO/darwinio.h>
+#include <DirectHW/DirectHW.h>
 #endif
 #if defined(__FreeBSD__)
 #include <sys/ioctl.h>
Index: msrtool-r6440/darwin.c
===================================================================
--- msrtool-r6440/darwin.c
+++ msrtool-r6440/darwin.c
@@ -26,8 +26,8 @@
 
 #include "msrtool.h"
 
-/* This Darwin support requires DirectIO, which is available at
- * http://www.coresystems.de/en/directio
+/* This Darwin support requires DirectHW, which is available at
+ * http://www.coreboot.org/DirectHW
  */
 
 int darwin_probe(const struct sysdef *system)
